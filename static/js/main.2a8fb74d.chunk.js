(this["webpackJsonpreact-json-schema-builder-example"]=this["webpackJsonpreact-json-schema-builder-example"]||[]).push([[0],{25:function(e){e.exports=JSON.parse('{"$id":"https://example.com/person.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Person","type":"object","properties":{"firstName":{"title":"Name","type":"string"},"lastName":{"type":"string"},"hobbies":{"type":"array","items":{"type":"string"}}}}')},27:function(e,n,t){e.exports=t(53)},28:function(e,n,t){},52:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);t(28);var a=t(0),l=t.n(a),r=t(8),o=t.n(r),u=t(26),i=t(21),c=t.n(i),m=(t(36),t(2)),s=t.n(m),f=t(13),d=t(9),v=t(11),h=t(22),b=t(24),p=t.n(b),g=(t(51),{type:"object",properties:{}}),E=[{value:"string",label:"Text"},{value:"integer",label:"Integer"},{value:"number",label:"Decimal"},{value:"boolean",label:"Boolean"},{value:"object",label:"Object"},{value:"array",label:"List"}],y=["description","type","title"],C=[].concat(y,["enum","format","maxLength","minLength","pattern"]),w=[].concat(y,["maximum","minimum","multipleOf"]),x=[].concat(y,["maximum","minimum","multipleOf"]),N=[].concat(y),k=[].concat(y,["maxItems","minItems","uniqueItems","items"]),j=[].concat(y,["required","properties"]),O=[{value:"description",label:"Description",type:"text"}],D=[].concat(O,[{value:"minLength",label:"Min Length",type:"number"},{value:"maxLength",label:"Max Length",type:"number"},{value:"enum",label:"Options",type:"multi_creatable"},{value:"pattern",label:"Pattern",type:"text"},{value:"format",label:"Format",type:"select",optionList:[{value:"date-time",label:"Date"},{value:"email",label:"Email"},{value:"hostname",label:"Hostname"},{value:"ipv4",label:"IPv4"},{value:"ipv6",label:"IPv6"},{value:"uri",label:"URI"}]}]),_=[].concat(O,[{value:"minimum",label:"Minimum",type:"number"},{value:"maximum",label:"Maximum",type:"number"},{value:"multipleOf",label:"Multiple of",type:"number"}]),M=[].concat(O,[{value:"minimum",label:"Minimum",type:"number"},{value:"maximum",label:"Maximum",type:"number"},{value:"multipleOf",label:"Multiple of",type:"number"}]),I=[].concat(O),q=[].concat(O,[{value:"required",label:"Required fields",type:"required"}]),L={string:D,integer:M,number:_,boolean:I,array:[].concat(O,[{value:"minItems",label:"Min Items",type:"number"},{value:"maxItems",label:"Max Items",type:"number"},{value:"uniqueItems",label:"Unique Items",type:"boolean"}]),object:q},K={string:C,integer:x,number:w,boolean:N,object:j,array:k},A=s.a.keys,F=s.a.get,S=s.a.pick,P=F("type"),R=F("title"),T=F("properties"),B=F("items"),J=F("required"),z=s.a.set,U=z("type"),$=z("title"),H=z("properties"),G=function(e){return z(["properties",e])},Q=z("items"),V=s.a.unset,W=function(e){return V(["properties",e])},X=function(e){return G("__"+s.a.now()+"__")({},e)},Y=function(e,n){return s.a.flow([s.a.entries,s.a.map((function(t){var a,l=t[0];return(a={})[l===e?n:l]=t[1],a})),s.a.reduce(s.a.assign,{})])},Z=function(e,n,t){return s.a.flow([T,Y(e,n),function(e){return H(e,t)}])(t)},ee=function(e){return"object"===P(e)},ne=function(e){return"array"===P(e)},te=function(e){return!s.a.isEmpty(T(e))},ae=function(e){return s.a.find(["value",e])},le=s.a.map("value"),re=s.a.map((function(e){return{label:e,value:e}})),oe=s.a.flow([s.a.entries,s.a.map((function(e){return n=e[0],t=R(e[1]),s.a.isEmpty(t)?{value:n,label:n}:{value:n,label:t};var n,t}))]),ue=s.a.flow([T,oe]),ie=s.a.flow((function(e){var n=J(e),t=T(e);return S(n,t)}),oe),ce=s.a.flow([U,function(e){var n,t=(n=P(e),s.a.get(n,K));return S(t,e)}]),me=function(e){return l.a.createElement("div",{className:"w-full border-l border-b border-blue-400 pl-2 pb-2 pt-2 rounded-bl"},e.children)},se=function(e){return l.a.createElement("label",{className:"text-sm text-gray-700"},e.children)},fe=function(e){var n=e.onChange,t=e.placeholder,a=e.value,r=void 0===a?"":a,o=e.label,u=e.type,i=void 0===u?"text":u,c=l.a.useState(""),m=c[0],s=c[1];l.a.useEffect((function(){s(r)}),[r]);var f,d,v=function(){m!==r&&n(m)};return l.a.createElement("div",{className:"w-full"},l.a.createElement(se,null,o),l.a.createElement("input",{type:i,value:m,onChange:(f=s,function(e){f(e.target.value)}),onKeyPress:(d=v,function(e){"Enter"===e.key&&d()}),onBlur:v,placeholder:t,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline-blue focus:border-blue-500"}))},de=function(e){var n=e.type,t=e.onChange;return l.a.createElement("div",null,l.a.createElement(se,null,"Type"),l.a.createElement(f.a,{className:" min-w-48 max-w-lg w-full shadow rounded border-gray-300 bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300",options:E,value:ae(n)(E),onChange:function(e){return t(e.value)},placeholder:"Type"}))},ve=function(e){var n=e.onClick,t=e.className;return l.a.createElement("button",{onClick:void 0===n?s.a.noop:n,title:e.title,className:"flex items-center border focus:outline-none focus:shadow-outline-blue \n      focus:border-blue-500 text-sm justify-center shadow w-8 h-8 rounded-full "+(void 0===t?"":t)},e.children)},he=function(e){var n=e.onClick;return l.a.createElement(ve,{onClick:void 0===n?s.a.noop:n,title:e.title,className:"text-white bg-blue-500 hover:bg-blue-700"},l.a.createElement(v.a,{icon:d.e}))},be=function(e){var n=e.onClick;return l.a.createElement(ve,{onClick:void 0===n?s.a.noop:n,title:e.title,className:"text-white bg-red-500 hover:bg-red-700"},l.a.createElement(v.a,{icon:d.g}))},pe=function(e){var n=e.isCollapsed,t=e.onClick;return l.a.createElement(ve,{onClick:void 0===t?s.a.noop:t,title:e.title,className:"text-white bg-gray-500 hover:bg-gray-600"},l.a.createElement(v.a,{icon:void 0!==n&&n?d.c:d.b}))},ge=function(e){var n=e.onClick;return l.a.createElement(ve,{onClick:void 0===n?s.a.noop:n,title:e.title,className:"text-gray-800 bg-white hover:bg-gray-200"},l.a.createElement(v.a,{icon:d.f}))},Ee=function(e){var n=e.onClick;return l.a.createElement(ve,{onClick:void 0===n?s.a.noop:n,title:e.title,className:"text-gray-800 bg-white hover:bg-gray-200"},l.a.createElement(v.a,{icon:d.d}))},ye=function(e){var n,t=e.value,a=e.onChange;return l.a.createElement("div",{className:"flex flex-row"},l.a.createElement(se,null,e.label),l.a.createElement(p.a,{onChange:(n=a,function(e){n(e.target.checked)}),defaultChecked:t,className:"ml-2"}))},Ce=function(e){return l.a.createElement("div",{className:"flex items-end justify-between"},e.children,l.a.createElement("div",{className:"ml-2"},l.a.createElement(be,{onClick:e.onDelete})))},we=function(e){var n=e.field,t=e.schema,a=e.onChange;return l.a.createElement(Ce,{onDelete:function(){return a(V(n.value,t))}},l.a.createElement(fe,{label:n.label,value:F(n.value,t),onChange:function(e){return a(z(n.value,e,t))}}))},xe=function(e){var n=e.field,t=e.schema,a=e.onChange;return l.a.createElement(Ce,{onDelete:function(){return a(V(n.value,t))}},l.a.createElement(fe,{label:n.label,type:"number",value:F(n.value,t),onChange:function(e){return a(z(n.value,parseInt(e,10),t))}}))},Ne=function(e){var n=e.field,t=e.schema,a=e.onChange;return l.a.createElement(Ce,{onDelete:function(){return a(V(n.value,t))}},l.a.createElement(ye,{label:n.label,value:F(n.value,t),onChange:function(e){return a(z(n.value,e,t))}}))},ke=function(e){var n=e.field,t=e.schema,a=e.onChange,r=F(n.value,t),o=l.a.useMemo((function(){return re(r)}),[r]);return l.a.createElement(Ce,{onDelete:function(){return a(V(n.value,t))}},l.a.createElement("div",{className:"w-full"},l.a.createElement(se,null,n.label),l.a.createElement(h.a,{isMulti:!0,className:"min-w-48 max-w-lg w-full shadow rounded border-gray-300 bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300",options:o,value:o,onChange:function(e){a(z(n.value,le(e),t))},placeholder:"Options"})))},je=function(e){var n=e.field,t=e.schema,a=e.onChange,r=F(n.value,t),o=l.a.useMemo((function(){return ae(r)(n.optionList)}),[n.optionList,r]);return l.a.createElement(Ce,{onDelete:function(){return a(V(n.value,t))}},l.a.createElement("div",{className:"w-full"},l.a.createElement(se,null,n.label),l.a.createElement(f.a,{className:"min-w-48 max-w-lg w-full shadow rounded border-gray-300 bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300",options:n.optionList,value:o,onChange:function(e){a(z(n.value,e.value,t))},placeholder:"Options"})))},Oe=function(e){var n=e.field,t=e.schema,a=e.onChange;if(!ee(t)||!te(t))return null;var r=ue(t),o=ie(t);return l.a.createElement(Ce,{onDelete:function(){return a(V(n.value,t))}},l.a.createElement("div",{className:"w-full"},l.a.createElement(se,null,n.label),l.a.createElement(f.a,{isMulti:!0,className:"min-w-48 max-w-lg w-full shadow rounded border-gray-300 bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300",options:r,value:o,onChange:function(e){a(z(n.value,le(e),t))},placeholder:"Options"})))},De={text:function(e){return l.a.createElement(we,Object.assign({},e))},number:function(e){return l.a.createElement(xe,Object.assign({},e))},boolean:function(e){return l.a.createElement(Ne,Object.assign({},e))},multi_creatable:function(e){return l.a.createElement(ke,Object.assign({},e))},select:function(e){return l.a.createElement(je,Object.assign({},e))},required:function(e){return l.a.createElement(Oe,Object.assign({},e))}},_e=function(e){var n=e.schema,t=e.onChange;return l.a.createElement("ul",{className:"mb-4 grid gap-2"},e.fields.map((function(e){return l.a.createElement("li",{key:e.value,className:""},De[e.type]({schema:n,onChange:t,field:e}))})))},Me=function(e){var n=e.schema,t=e.onChange,a=P(n),r=l.a.useMemo((function(){return e=a,s.a.get(e,L);var e}),[a]),o=l.a.useMemo((function(){var e=A(n);return s.a.filter((function(n){return s.a.includes(n.value,e)}),r)}),[n,r]);return l.a.createElement("div",{className:"min-w-md"},l.a.createElement(_e,{fields:o,schema:n,onChange:t}),l.a.createElement(f.a,{className:"min-w-48 max-w-lg w-full shadow rounded border-gray-300 bg-white focus:outline-none focus:shadow-outline-blue focus:border-blue-300",options:s.a.difference(r,o),value:null,onChange:function(e){return t(z(e.value,void 0,n))},placeholder:"Add fields"}))},Ie=function(e){var n=e.onClose,t=e.children;return l.a.createElement("div",null,l.a.createElement("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none"},l.a.createElement("div",{className:"relative w-auto my-6 mx-auto max-w-3xl"},l.a.createElement("div",{className:"p-2 rounded shadow relative flex flex-col w-full bg-white outline-none focus:outline-none"},l.a.createElement("div",{className:"flex items-end justify-between"},l.a.createElement("h3",{className:"font-semibold text-xl"},e.title),l.a.createElement(ge,{onClick:n})),l.a.createElement("div",{className:"mt-2"},t)))),l.a.createElement("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"}))},qe=function(e){var n=e.schema,t=e.schemakey,a=e.isCollapsed,r=e.onDelete,o=e.onChange,u=e.onChangeKey,i=e.onAdd,c=e.onCollapse,m=l.a.useState(!1),f=m[0],d=m[1];return l.a.createElement("div",{className:"flex flex-row items-end"},l.a.createElement("div",{className:"grid grid-flow-col gap-2 mr-2"},l.a.createElement(fe,{value:R(n),onChange:function(e){return o($(e,n))},placeholder:"Title",label:"Title"}),l.a.createElement(de,{type:P(n),onChange:function(e){return o(ce(e,n))}}),s.a.isFunction(u)?l.a.createElement(fe,{value:t,onChange:u,placeholder:"Key",label:"Key"}):null),l.a.createElement("div",{className:"grid grid-flow-col items-center gap-1"},s.a.isFunction(c)?l.a.createElement(pe,{onClick:c,isCollapsed:a,title:"Collapse schema"}):null,l.a.createElement(Ee,{onClick:function(){return d((function(e){return!e}))},title:"Open extra options menu"}),s.a.isFunction(r)?l.a.createElement(be,{onClick:r,title:"Delete schema"}):null,s.a.isFunction(i)?l.a.createElement(he,{onClick:i,title:"Add schema"}):null),f?l.a.createElement(Ie,{onClose:function(){return d(!1)},title:"Extra fields"},l.a.createElement(Me,{schema:n,onChange:o})):null)},Le=function(e){var n=e.schema,t=e.onChange,a=e.onAdd,r=l.a.useState(!1),o=r[0],u=r[1];return l.a.createElement("div",{className:"flex items-end"},l.a.createElement(de,{type:P(n),onChange:function(e){return t(ce(e,n))}}),l.a.createElement("div",{className:"ml-2 grid grid-flow-col gap-1"},l.a.createElement(Ee,{onClick:function(){return u((function(e){return!e}))},title:"Open extra options menu"}),s.a.isFunction(a)?l.a.createElement(he,{onClick:a,title:"Add schema"}):null),o?l.a.createElement(Ie,{onClose:function(){return u(!1)},title:"Extra fields"},l.a.createElement(Me,{schema:n,onChange:t})):null)},Ke=function(e){var n=e.schema,t=e.onChangeKey,a=void 0===t?s.a.noop:t,r=e.onChange,o=void 0===r?s.a.noop:r,u=e.onDelete,i=void 0===u?s.a.noop:u,c=e.schemakey,m=void 0===c?"__root__":c,f=e.isRequired,h=l.a.useState(!1),b=h[0],p=h[1];return l.a.createElement("div",null,l.a.createElement("div",{className:"flex items-end"},f&&l.a.createElement(v.a,{icon:d.a,className:"mr-2 mb-3 text-xs",title:"Required"}),l.a.createElement(qe,{schema:n,schemakey:m,isCollapsed:b,onChangeKey:"__root__"!==m?a:void 0,onAdd:ee(n)?function(){return o(X(n))}:void 0,onCollapse:ee(n)||ne(n)?function(){return p((function(e){return!e}))}:void 0,onDelete:"__root__"!==m?function(){return i(m)}:void 0,onChange:o})),l.a.createElement("div",{className:b?"hidden":"block"},ee(n)&&te(n)&&l.a.createElement(me,null,l.a.createElement(Fe,{onChangeKey:function(e,t){return o(Z(e,t,n))},onDelete:function(e){return o(W(e)(n))},onChange:function(e,t){return o(G(e)(t,n))},schema:n})),ne(n)&&l.a.createElement(me,null,l.a.createElement(Ae,{schema:B(n),onChange:function(e){return o(Q(e,n))}}))))},Ae=function e(n){var t=n.schema,a=n.onChange;return l.a.createElement("div",null,l.a.createElement(Le,{schema:t,onChange:a,onAdd:ee(t)?function(){return a(X(t))}:void 0}),ee(t)&&te(t)&&l.a.createElement("div",{className:"mt-2"},l.a.createElement(Fe,{onChangeKey:function(e,n){return a(Z(e,n,t))},onDelete:function(e){return a(W(e)(t))},onChange:function(e,n){return a(G(e)(n,t))},schema:t})),ne(t)&&l.a.createElement(me,null,l.a.createElement(e,{schema:B(t),onChange:function(e){return a(Q(e,t))}})))},Fe=function(e){var n=e.schema,t=e.onChangeKey,a=e.onDelete,r=e.onChange;return l.a.createElement("ul",{className:"grid gap-2 "},s.a.entries(T(n)).map((function(e){var o,u=e[0];return l.a.createElement("li",{key:u},l.a.createElement(Ke,{schema:e[1],schemakey:u,isRequired:(o=u,s.a.flow([J,s.a.contains(o)]))(n),onDelete:a,onChangeKey:function(e){return t(u,e)},onChange:function(e){return r(u,e)}}))})))},Se=function(e){var n=e.schema,t=e.onChange;return l.a.createElement("div",null,l.a.createElement(Ke,{schema:s.a.isEmpty(n)?g:n,onChange:t}))},Pe=(t(52),t(25)),Re=function(){var e=l.a.useState(Pe),n=Object(u.a)(e,2),t=n[0],a=n[1];return l.a.createElement("div",{className:"mx-auto grid gap-4 grid-flow-col p-8"},l.a.createElement(Se,{schema:t,onChange:a}),l.a.createElement(c.a,{data:t}))};o.a.render(l.a.createElement(Re,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.2a8fb74d.chunk.js.map